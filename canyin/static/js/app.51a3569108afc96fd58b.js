webpackJsonp([1],[,,,,,,,,,,,function(e,t,n){"use strict";var a=n(3),i=n(64),s=n(53),o=n.n(s);a.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"qt",component:o.a}]})},function(e,t,n){function a(e){n(45)}var i=n(1)(n(31),n(59),a,null,null);e.exports=i.exports},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),i=n.n(a),s=n(13),o=n.n(s),u=n(50),r=n.n(u),l=n(37),c=n(38),d=n(40),p="http://canyin.eqiying.com";t.default={name:"qt",components:{Checkbox:l.a,CheckboxGroup:l.b,Radio:c.a,RadioGroup:c.b},data:function(){return{qtsInfo:{},qts:[],n:0,val:"",result:[],start:!1,end:!1}},computed:{qt:function(){return this.qts.length?this.qts[this.n]:{QuestionInfo:{},OptionList:[]}}},created:function(){var e=this.$route.query.id;this.query(e)},watch:{val:function(e){var t={};"string"==typeof e?t.OpenTextValue=e:t=e,this.result[this.n]=t}},methods:{query:function(e){var t=this;o.a.get(p+"/controller/questioninfocontrol.ashx?questionnairId="+e+"&action=queryquestioninfobyid").then(function(e){var n=e.data,a=n.data;n.msg;if("success"===n.result){var i=t.$route.query.RestaurantId;t.qts=a.QuestionInfos,t.qtsInfo=a.QuesitonnairInfo,t.qtsInfo.RestaurantId=i||2}})},next:function(){this.n==this.qts.length-1?this.submit():(this.n++,this.val="",this.openVal="")},submit:function(){var e=this;console.log(this.qtsInfo);var t=this.qtsInfo,a=t.QuestionnairId,s=t.RestaurantId,u=this.result.map(function(e){return{QuestionId:e.QuestionId,RestaurantId:s,QuestionnairId:a,AnswerStatus:1,AnswerType:1,AnswerValue:e.AnswerValue||"",OptionId:e.OptionId||"",OpenTextValue:e.OpenTextValue||"",CreatedTime:n.i(d.a)()}});o.a.post(p+"/controller/Answer.ashx",r.a.stringify({action:"DataCollection",userdata:i()(u)})).then(function(t){var n=t.data,a=(n.data,n.msg);"success"===n.result?e.end=!0:alert(a)})},changeOpen:function(e,t){t.OpenTextValue=e,this.result[this.n]=t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Checkbox",props:{value:Boolean,disabled:Boolean,name:String,checked:Boolean,nosync:Boolean,customValue:[String,Number,Boolean,Object]},data:function(){return{newValue:this.value||this.checked}},watch:{value:function(e){this.newValue=e},newValue:function(e){if(this.nosync)return void(this.newValue=this.value);this.$emit("input",e),this.$parent.isCheckboxGroup&&this.$parent.updateValue()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"CheckboxGroup",props:{value:Array},data:function(){return{checkedList:[],isCheckboxGroup:!0}},watch:{value:function(){this.initChecked()}},methods:{updateValue:function(){var e=this;this.checkedList=[],this.$children.forEach(function(t){t.newValue&&e.checkedList.push(t.customValue)}),this.$emit("input",this.checkedList),this.$emit("change",this.checkedList)},initChecked:function(){var e=this;this.$children.forEach(function(t){e.value&&e.value.indexOf(t.customValue)>=0?t.newValue=!0:t.newValue=!1})}},mounted:function(){this.initChecked()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Radio",props:{value:[String,Number,Boolean,Object],disabled:Boolean,name:String,image:String,isOpen:Boolean},data:function(){return{isChecked:!1,openVal:""}},methods:{changed:function(e){this.$parent.updateValue(this.value,e)}},created:function(){if(!this.$parent.$data._isRadioGroup)throw this.$destroy(),new Error("You should wrap bRadio on a bRadioGroup")},watch:{openVal:function(e){this.isChecked||(this.isChecked=!0,this.$parent.updateValue(this.value)),this.$emit("changeOpen",e,this.value)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RadioGroup",props:{value:[String,Number,Boolean,Object],buttonSize:String},data:function(){return{_isRadioGroup:!0,_isRadioButtonGroup:!1}},watch:{value:function(){this.initChecked()}},methods:{updateValue:function(e,t){console.log(t),this.$emit("change",e,t),this.$emit("input",e)},initChecked:function(){var e=this;this.$children.forEach(function(t){t.size=e.buttonSize,e.$data._isRadioButtonGroup=t.$data._isRadioButton,t.isChecked=e.value===t.value})}},mounted:function(){this.initChecked()}}},function(e,t,n){"use strict";var a=n(54),i=n.n(a),s=n(55),o=n.n(s);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return o.a})},function(e,t,n){"use strict";var a=n(56),i=n.n(a),s=n(57),o=n.n(s);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return o.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=n(12),s=n.n(i),o=n(11);a.a.config.productionTip=!1,new a.a({el:"#app",router:o.a,template:"<App/>",components:{App:s.a}})},function(e,t,n){"use strict";function a(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return t>=1&&t<=9&&(t="0"+t),n>=0&&n<=9&&(n="0"+n),e.getFullYear()+"-"+t+"-"+n+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}t.a=a},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,function(e,t,n){function a(e){n(47)}var i=n(1)(n(32),n(63),a,"data-v-caaf1b84",null);e.exports=i.exports},function(e,t,n){var a=n(1)(n(33),n(61),null,null,null);e.exports=a.exports},function(e,t,n){var a=n(1)(n(34),n(60),null,null,null);e.exports=a.exports},function(e,t,n){function a(e){n(46)}var i=n(1)(n(35),n(62),a,null,null);e.exports=i.exports},function(e,t,n){function a(e){n(44)}var i=n(1)(n(36),n(58),a,null,null);e.exports=i.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"radio-group",class:{"field has-addons":e.$data._isRadioButtonGroup}},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"checkbox-group"},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"qt-item"},[n("label",{ref:"label",staticClass:"checkbox",class:{"is-disabled":e.disabled},attrs:{disabled:e.disabled,tabindex:!e.disabled&&0},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13)&&e._k(t.keyCode,"space",32))return null;t.preventDefault(),e.newValue=!e.newValue}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],attrs:{type:"checkbox",disabled:e.disabled,name:e.name},domProps:{checked:Array.isArray(e.newValue)?e._i(e.newValue,null)>-1:e.newValue},on:{change:function(t){e.$emit("change",e.newValue,t)},__c:function(t){var n=e.newValue,a=t.target,i=!!a.checked;if(Array.isArray(n)){var s=e._i(n,null);i?s<0&&(e.newValue=n.concat(null)):s>-1&&(e.newValue=n.slice(0,s).concat(n.slice(s+1)))}else e.newValue=i}}}),e._v(" "),n("span",{staticClass:"check"}),e._v(" "),n("span",{staticClass:"control-label"},[e._t("default")],2)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"qt-item"},[n("label",{ref:"label",staticClass:"radio",class:{"is-disabled":e.disabled},attrs:{disabled:e.disabled,tabindex:!e.disabled&&0},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13)&&e._k(t.keyCode,"space",32))return null;t.preventDefault(),e.$parent.updateValue(e.value)}}},[n("input",{attrs:{type:"radio",disabled:e.disabled,name:e.name},domProps:{checked:e.isChecked,value:e.value},on:{change:e.changed}}),e._v(" "),n("span",{staticClass:"check",style:{backgroundImage:e.image?"url(http://canyin.eqiying.com/webpage/Questionnairpage"+e.image+")":""}}),e._v(" "),n("span",{staticClass:"control-label"},[e._t("default")],2)]),e._v(" "),e.isOpen?n("input",{directives:[{name:"model",rawName:"v-model",value:e.openVal,expression:"openVal"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.openVal},on:{input:function(t){t.target.composing||(e.openVal=t.target.value)}}}):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("div",{staticClass:"qt"},[n("div",{staticClass:"app-header"},[e._v(e._s(e.n+1)+"/"+e._s(e.qts.length))]),e._v(" "),e.qt?n("div",{staticClass:"app-body"},[n("div",{staticClass:"qt-title pad"},[e._v("\n        "+e._s(e.qt.QuestionInfo.QuestionName)+"\n      ")]),e._v(" "),n("div",{staticClass:"qt-box pad"},[2==e.qt.QuestionInfo.QuestionType?n("checkbox-group",{class:e.qt.QuestionInfo.Remark?"is-"+e.qt.QuestionInfo.Remark:""},e._l(e.qt.OptionList,function(t){return n("checkbox",{attrs:{"custom-value":t.OptionId}},[e._v(e._s(t.OptionName))])})):e._e(),e._v(" "),1==e.qt.QuestionInfo.QuestionType?n("radio-group",{class:e.qt.QuestionInfo.Remark?"is-"+e.qt.QuestionInfo.Remark:"",model:{value:e.val,callback:function(t){e.val=t},expression:"val"}},e._l(e.qt.OptionList,function(t){return n("radio",{attrs:{"is-open":1==t.IsOpen,value:{IsOpen:t.IsOpen,AnswerValue:t.OptionCode,OptionId:t.OptionId,OpenTextValue:"",QuestionId:e.qt.QuestionInfo.QuestionId},image:t.OptionPicUrl},on:{changeOpen:e.changeOpen}},[e._v(e._s(t.OptionName)+"\n            ")])})):e._e(),e._v(" "),3==e.qt.QuestionInfo.QuestionType?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],attrs:{placeholder:"请输入"},domProps:{value:e.val},on:{input:function(t){t.target.composing||(e.val=t.target.value)}}}):e._e()],1)]):e._e(),e._v(" "),e.n<e.qts.length?n("div",{staticClass:"pad"},[n("button",{staticClass:"btn-lg",attrs:{disabled:!e.val},domProps:{textContent:e._s(e.n==e.qts.length-1?"提交":"下一题")},on:{click:e.next}})]):e._e()]),e._v(" "),e.start?e._e():n("div",{staticClass:"start-page full-height"},[n("button",{staticClass:"btn-lg btn-default start-btn",attrs:{disabled:0==this.qts},on:{click:function(t){e.start=!0}}},[e._v("开始")])]),e._v(" "),e.end?n("div",{staticClass:"end-page full-height"},[n("img",{attrs:{src:"http://canyin.eqiying.com/webpage/Questionnairpage/questioninnairimages/tp_10.png",alt:""}}),e._v(" "),n("p",[e._v("您已完成问卷，感谢您的配合与支持。")]),e._v(" "),n("p",[e._v("祝您用餐愉快！")])]):e._e()])},staticRenderFns:[]}}],[39]);
//# sourceMappingURL=app.51a3569108afc96fd58b.js.map